{
  "log": {
    "_recordingName": "should support tool calling",
    "creator": {
      "comment": "persister:fs",
      "name": "Polly.JS",
      "version": "6.0.6"
    },
    "entries": [
      {
        "_id": "31bb66f73a75ccefb26ef37dc497f8f0",
        "_order": 0,
        "cache": {},
        "request": {
          "bodySize": 399,
          "cookies": [],
          "headers": [
            {
              "name": "accept",
              "value": "application/json"
            },
            {
              "name": "authorization",
              "value": "[REDACTED]"
            },
            {
              "name": "content-type",
              "value": "application/json"
            }
          ],
          "headersSize": 318,
          "httpVersion": "HTTP/1.1",
          "method": "POST",
          "postData": {
            "mimeType": "application/json",
            "params": [],
            "text": "{\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"What's the weather in Paris?\"}]}],\"toolConfig\":{\"tools\":[{\"toolSpec\":{\"name\":\"get_weather\",\"description\":\"Get the current weather for a location\",\"inputSchema\":{\"json\":{\"type\":\"object\",\"properties\":{\"location\":{\"type\":\"string\",\"description\":\"City name\"}},\"required\":[\"location\"],\"additionalProperties\":false}}}}]},\"inferenceConfig\":{\"maxTokens\":4096}}"
          },
          "queryString": [],
          "url": "https://bedrock-runtime.us-east-1.amazonaws.com/model/amazon.nova-lite-v1%3A0/converse"
        },
        "response": {
          "bodySize": 509,
          "content": {
            "mimeType": "application/json",
            "size": 509,
            "text": "{\"metrics\":{\"latencyMs\":775},\"output\":{\"message\":{\"content\":[{\"text\":\"<thinking> I need to use the 'get_weather' tool to provide the current weather in Paris. There are no previous tool results, so I'll call the tool directly with the location 'Paris'. </thinking>\\n\"},{\"toolUse\":{\"input\":{\"location\":\"Paris\"},\"name\":\"get_weather\",\"toolUseId\":\"tooluse_QaqBv-7WQzSi01KxY5SvWw\"}}],\"role\":\"assistant\"}},\"stopReason\":\"tool_use\",\"usage\":{\"inputTokens\":420,\"outputTokens\":63,\"serverToolUsage\":{},\"totalTokens\":483}}"
          },
          "cookies": [],
          "headers": [
            {
              "name": "connection",
              "value": "keep-alive"
            },
            {
              "name": "content-length",
              "value": "509"
            },
            {
              "name": "content-type",
              "value": "application/json"
            },
            {
              "name": "date",
              "value": "Fri, 23 Jan 2026 19:41:04 GMT"
            },
            {
              "name": "x-amzn-requestid",
              "value": "ff2bc086-e2c9-4c9c-a13d-83351e6b2913"
            }
          ],
          "headersSize": 172,
          "httpVersion": "HTTP/1.1",
          "redirectURL": "",
          "status": 200,
          "statusText": "OK"
        },
        "startedDateTime": "2026-01-23T19:41:03.164Z",
        "time": 1030,
        "timings": {
          "blocked": -1,
          "connect": -1,
          "dns": -1,
          "receive": 0,
          "send": 0,
          "ssl": -1,
          "wait": 1030
        }
      },
      {
        "_id": "31bb66f73a75ccefb26ef37dc497f8f0",
        "_order": 1,
        "cache": {},
        "request": {
          "bodySize": 970,
          "cookies": [],
          "headers": [
            {
              "name": "accept",
              "value": "application/json"
            },
            {
              "name": "authorization",
              "value": "[REDACTED]"
            },
            {
              "name": "content-type",
              "value": "application/json"
            }
          ],
          "headersSize": 318,
          "httpVersion": "HTTP/1.1",
          "method": "POST",
          "postData": {
            "mimeType": "application/json",
            "params": [],
            "text": "{\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"What's the weather in Paris?\"}]},{\"role\":\"assistant\",\"content\":[{\"text\":\"<thinking> I need to use the 'get_weather' tool to provide the current weather in Paris. There are no previous tool results, so I'll call the tool directly with the location 'Paris'. </thinking>\\n\"},{\"toolUse\":{\"toolUseId\":\"tooluse_QaqBv-7WQzSi01KxY5SvWw\",\"name\":\"get_weather\",\"input\":{\"location\":\"Paris\"}}}]},{\"role\":\"user\",\"content\":[{\"toolResult\":{\"toolUseId\":\"tooluse_QaqBv-7WQzSi01KxY5SvWw\",\"content\":[{\"text\":\"{\\\"location\\\":\\\"Paris\\\",\\\"temperature\\\":22,\\\"unit\\\":\\\"celsius\\\",\\\"condition\\\":\\\"sunny\\\"}\"}],\"status\":\"success\"}}]}],\"toolConfig\":{\"tools\":[{\"toolSpec\":{\"name\":\"get_weather\",\"description\":\"Get the current weather for a location\",\"inputSchema\":{\"json\":{\"type\":\"object\",\"properties\":{\"location\":{\"type\":\"string\",\"description\":\"City name\"}},\"required\":[\"location\"],\"additionalProperties\":false}}}}]},\"inferenceConfig\":{\"maxTokens\":4096}}"
          },
          "queryString": [],
          "url": "https://bedrock-runtime.us-east-1.amazonaws.com/model/amazon.nova-lite-v1%3A0/converse"
        },
        "response": {
          "bodySize": 413,
          "content": {
            "mimeType": "application/json",
            "size": 413,
            "text": "{\"metrics\":{\"latencyMs\":681},\"output\":{\"message\":{\"content\":[{\"text\":\"<thinking> I received the weather data for Paris from the tool. Now, I can provide the weather information to the User. </thinking>\\n\\nThe current weather in Paris is 22 degrees Celsius with a sunny condition.\"}],\"role\":\"assistant\"}},\"stopReason\":\"end_turn\",\"usage\":{\"inputTokens\":530,\"outputTokens\":45,\"serverToolUsage\":{},\"totalTokens\":575}}"
          },
          "cookies": [],
          "headers": [
            {
              "name": "connection",
              "value": "keep-alive"
            },
            {
              "name": "content-length",
              "value": "413"
            },
            {
              "name": "content-type",
              "value": "application/json"
            },
            {
              "name": "date",
              "value": "Fri, 23 Jan 2026 19:41:05 GMT"
            },
            {
              "name": "x-amzn-requestid",
              "value": "5016bec8-0d2a-4560-80e3-439ffd67287b"
            }
          ],
          "headersSize": 172,
          "httpVersion": "HTTP/1.1",
          "redirectURL": "",
          "status": 200,
          "statusText": "OK"
        },
        "startedDateTime": "2026-01-23T19:41:04.195Z",
        "time": 1122,
        "timings": {
          "blocked": -1,
          "connect": -1,
          "dns": -1,
          "receive": 0,
          "send": 0,
          "ssl": -1,
          "wait": 1122
        }
      }
    ],
    "pages": [],
    "version": "1.2"
  }
}
